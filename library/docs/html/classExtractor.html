<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WFCPP: Extractor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WFCPP
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classExtractor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Extractor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classExtractor.html" title="The Extractor Class.">Extractor</a> Class.  
 <a href="classExtractor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Extractor_8h_source.html">Extractor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a69851712777c17592219308f4c2723b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExtractor.html#a69851712777c17592219308f4c2723b6">extractPNG</a> (unsigned int &amp;width, unsigned int &amp;height, const std::string &amp;filename, std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;pixels)</td></tr>
<tr class="separator:a69851712777c17592219308f4c2723b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2dfdbd9677b113b9d6db18810023d53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExtractor.html#aa2dfdbd9677b113b9d6db18810023d53">extractBMP</a> (unsigned int &amp;width, unsigned int &amp;height, const std::string &amp;filename, std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;pixels)</td></tr>
<tr class="separator:aa2dfdbd9677b113b9d6db18810023d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7996cb26dd5ff6d35d1505a5580205dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExtractor.html#a7996cb26dd5ff6d35d1505a5580205dd">extractTileset</a> (unsigned int width, unsigned int height, unsigned int horizontal, unsigned int vertical, const std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;pixels, std::vector&lt; <a class="el" href="classTileData.html">TileData</a> &gt; &amp;tiles)</td></tr>
<tr class="separator:a7996cb26dd5ff6d35d1505a5580205dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e9b5f85bcdf56dc6b2edb5bebd3809"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExtractor.html#ac8e9b5f85bcdf56dc6b2edb5bebd3809">setConstraints</a> (std::vector&lt; <a class="el" href="classTileData.html">TileData</a> &gt; &amp;tileList)</td></tr>
<tr class="separator:ac8e9b5f85bcdf56dc6b2edb5bebd3809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2726e6a94c51c2b2dbc518199d054103"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExtractor.html#a2726e6a94c51c2b2dbc518199d054103">Extractor</a> ()</td></tr>
<tr class="separator:a2726e6a94c51c2b2dbc518199d054103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d4ffc438254c5661c4a60d1d2d4928"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExtractor.html#a62d4ffc438254c5661c4a60d1d2d4928">Extractor</a> (double metric)</td></tr>
<tr class="separator:a62d4ffc438254c5661c4a60d1d2d4928"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af368de6960d95b0cf034234c2ada1f5f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExtractor.html#af368de6960d95b0cf034234c2ada1f5f">encodePNG</a> (unsigned int width, unsigned int height, const std::string &amp;filename, const std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;pixels)</td></tr>
<tr class="separator:af368de6960d95b0cf034234c2ada1f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad10ca13d0a873848f1afe8e1494de295"><td class="memItemLeft" align="right" valign="top"><a id="ad10ca13d0a873848f1afe8e1494de295"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>idCount</b></td></tr>
<tr class="separator:ad10ca13d0a873848f1afe8e1494de295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80043dae78ae0cf609fb83b98d6e2fac"><td class="memItemLeft" align="right" valign="top"><a id="a80043dae78ae0cf609fb83b98d6e2fac"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>comparisonMetric</b></td></tr>
<tr class="separator:a80043dae78ae0cf609fb83b98d6e2fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classExtractor.html" title="The Extractor Class.">Extractor</a> Class. </p>
<dl class="section author"><dt>Author</dt><dd>Ricardo Figueroa</dd></dl>
<p>This class provides support for the Wave Function Collapse algorithm by making available png and bitmap extraction and encoding for tiles and tilesets. Tilesets are usually formatted in a X by X image file, so the extractor takes said image file and extracts all necessary information, i.e, pixel data, width and height.</p>
<p>There existed many methods by which to expand the extractor class. As a result of time constraints png and bmp are the only filetypes available for extraction. But by introducing more libraries to the class it can be possible to expand to a larger range of filetypes, that said, the most common ones have been chosen for the class.</p>
<p>Using both lodePNG and EasyBMP, extraction and encoding was made much easier. Allowing for simple to use API that abstract these processes.</p>
<p>Extraction for both PNG and BMP consists of acquiring the RGBA values of each pixel. Ranging from 0 to 255 for each. They are placed in a vector of <a class="el" href="structPixel.html" title="The struct for storing pixels in BMP. Supports up to 32-bit colors.">Pixel</a> type that is meant to be the generalized structure for all extractions (space for appending functionality)</p>
<p>Encoding for both PNG and BMP consists of taking this generalized structure and encoding through their respective support libraries.</p>
<p>The vectors of pixels as described above are then processed by extractTileset, which is the function that creates the required piece for both the <a class="el" href="classSolver.html" title="The Solver class.">Solver</a> and <a class="el" href="classSynthesizer.html" title="The Synthesizer class.">Synthesizer</a> (a vector of <a class="el" href="classTileData.html" title="Tile Data Class.">TileData</a>). Given that the pixels themselves aren't organized in <a class="el" href="classTile.html">Tile</a> form.</p>
<p>Once the <a class="el" href="classTileData.html" title="Tile Data Class.">TileData</a> is extracted it can then be automatically be setConstraints based on a comparison metric. This is highly basic at the moment, the metric being a int meant to represent a percentage from 0 to 1.0. The difference in tile sides is calculated and compared to this metric to decide whether the tiles are accepted as constraints. This can be expanded on by changing the metric to some AI driven metric. Knowing what differernce in pixels is acceptable is hard to measure through simple arithmatic so for now it is just an option availble to the user.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structPixel.html" title="The struct for storing pixels in BMP. Supports up to 32-bit colors.">Pixel</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2726e6a94c51c2b2dbc518199d054103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2726e6a94c51c2b2dbc518199d054103">&#9670;&nbsp;</a></span>Extractor() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Extractor::Extractor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default constructor for the <a class="el" href="classExtractor.html" title="The Extractor Class.">Extractor</a>. </p>

</div>
</div>
<a id="a62d4ffc438254c5661c4a60d1d2d4928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62d4ffc438254c5661c4a60d1d2d4928">&#9670;&nbsp;</a></span>Extractor() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Extractor::Extractor </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>metric</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor for the <a class="el" href="classExtractor.html" title="The Extractor Class.">Extractor</a>, allows for metric initialization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metric</td><td>The metric the user is allowed to implement. Max at 1, min at 0 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af368de6960d95b0cf034234c2ada1f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af368de6960d95b0cf034234c2ada1f5f">&#9670;&nbsp;</a></span>encodePNG()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Extractor::encodePNG </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pixels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Encodes a vector of pixels into a PNG file at the filename provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The width of the file being created </td></tr>
    <tr><td class="paramname">height</td><td>The height of the file being created </td></tr>
    <tr><td class="paramname">filename</td><td>The filename of the file being created </td></tr>
    <tr><td class="paramname">pixels</td><td>The pixels used to created the file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa2dfdbd9677b113b9d6db18810023d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2dfdbd9677b113b9d6db18810023d53">&#9670;&nbsp;</a></span>extractBMP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Extractor::extractBMP </td>
          <td>(</td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pixels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extracts the pixel data from a BMP file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>A reference to width that gets updated on easyBMP extraction </td></tr>
    <tr><td class="paramname">height</td><td>A reference to height that gets updated on easyBMP extraction </td></tr>
    <tr><td class="paramname">filename</td><td>A reference to filename that is used to retrieve the desired file </td></tr>
    <tr><td class="paramname">pixels</td><td>The pixel data of a file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structPixel.html" title="The struct for storing pixels in BMP. Supports up to 32-bit colors.">Pixel</a> </dd></dl>

</div>
</div>
<a id="a69851712777c17592219308f4c2723b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69851712777c17592219308f4c2723b6">&#9670;&nbsp;</a></span>extractPNG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Extractor::extractPNG </td>
          <td>(</td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pixels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extracts the pixel data from a PNG file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>A reference to width that gets updated on lodePNG extraction </td></tr>
    <tr><td class="paramname">height</td><td>A reference to height that gets updated on lodePNG extraction </td></tr>
    <tr><td class="paramname">filename</td><td>A reference to filename that is used to retrieve the desired file </td></tr>
    <tr><td class="paramname">pixels</td><td>The pixel data of a file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structPixel.html" title="The struct for storing pixels in BMP. Supports up to 32-bit colors.">Pixel</a> </dd></dl>

</div>
</div>
<a id="a7996cb26dd5ff6d35d1505a5580205dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7996cb26dd5ff6d35d1505a5580205dd">&#9670;&nbsp;</a></span>extractTileset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Extractor::extractTileset </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>horizontal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>vertical</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structPixel.html">Pixel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTileData.html">TileData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tiles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extracts tiles from a vector of pixels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The width of the file that extracted the pixels referenced in </td></tr>
    <tr><td class="paramname">height</td><td>The height of the file that extracted the pixels referenced in </td></tr>
    <tr><td class="paramname">horizontal</td><td>The maximum number of tiles on the tileset horizontally </td></tr>
    <tr><td class="paramname">vertical</td><td>The maxumum number of tiles on the tilset vertically </td></tr>
    <tr><td class="paramname">pixels</td><td>A reference to the pixels that will be extracted </td></tr>
    <tr><td class="paramname">tiles</td><td>A reference to the tile vector that will be appended to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8e9b5f85bcdf56dc6b2edb5bebd3809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8e9b5f85bcdf56dc6b2edb5bebd3809">&#9670;&nbsp;</a></span>setConstraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Extractor::setConstraints </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTileData.html">TileData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tileList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the constraints for each tile on a tileList based on the tiles from that tileList.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tileList</td><td>A vector of tiles to apply constraints to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="Extractor_8h_source.html">Extractor.h</a></li>
<li>src/Extractor.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
