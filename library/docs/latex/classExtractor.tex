\hypertarget{classExtractor}{}\doxysection{Extractor Class Reference}
\label{classExtractor}\index{Extractor@{Extractor}}


The \mbox{\hyperlink{classExtractor}{Extractor}} Class.  




{\ttfamily \#include $<$Extractor.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classExtractor_a6e87d0efe8723eb19af42225f2decc6d}{extract\+PNG}} (unsigned int \&width, unsigned int \&height, const std\+::string \&filename, std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&pixels)
\item 
void \mbox{\hyperlink{classExtractor_adabc777cb60461053b56f2d53a9704a2}{extract\+BMP}} (unsigned int \&width, unsigned int \&height, const std\+::string \&filename, std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&pixels)
\item 
int \mbox{\hyperlink{classExtractor_a7996cb26dd5ff6d35d1505a5580205dd}{extract\+Tileset}} (unsigned int width, unsigned int height, unsigned int horizontal, unsigned int vertical, const std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&pixels, std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$ \&tiles)
\item 
void \mbox{\hyperlink{classExtractor_a868a888bd6b03eb9c9d07e81f91c8ec8}{encode\+Tileset\+PNG}} (std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$ \&tiles, std\+::string asset\+Name)
\item 
int \mbox{\hyperlink{classExtractor_ac8e9b5f85bcdf56dc6b2edb5bebd3809}{set\+Constraints}} (std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$ \&tile\+List)
\item 
void \mbox{\hyperlink{classExtractor_af35f3ceeb0ccc4791d4df63ddd025476}{set\+Comparison\+Metric}} (double m)
\item 
void \mbox{\hyperlink{classExtractor_a2ce807da74ccb6bb17a44f94abb774c6}{set\+Dump\+Directory\+Relative}} (std\+::string dir)
\item 
void \mbox{\hyperlink{classExtractor_aaf41b05bc18e0e83e3855dfa1f6654d9}{set\+Dump\+Directory\+Absolute}} (std\+::string dir)
\item 
void \mbox{\hyperlink{classExtractor_a485004e8aa53730136b75f303a26740c}{set\+Asset\+Directory\+Relative}} (std\+::string dir)
\item 
void \mbox{\hyperlink{classExtractor_a4051e53c3e18b0a419dceb32eed8526f}{set\+Asset\+Directory\+Absolute}} (std\+::string dir)
\item 
void \mbox{\hyperlink{classExtractor_a981d0f1843a7b7bea93a616939f0dc54}{print\+Directories}} ()
\item 
void \mbox{\hyperlink{classExtractor_a2a738331241d85cb5e7bf9ed26ba28ed}{print\+ConstraintsV}} (std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$ tiles)
\item 
void \mbox{\hyperlink{classExtractor_a42a34591eec5529b1dda53fbe04f3842}{print\+Constraints}} (\mbox{\hyperlink{classTileData}{Tile\+Data}} tile)
\item 
\mbox{\hyperlink{classExtractor_a2726e6a94c51c2b2dbc518199d054103}{Extractor}} ()
\item 
\mbox{\hyperlink{classExtractor_a62d4ffc438254c5661c4a60d1d2d4928}{Extractor}} (double metric)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classExtractor_a5317038adbafe886bb393ef29c4e12be}{encode\+PNG}} (unsigned int width, unsigned int height, const std\+::string \&filename, const std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&pixels)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{classExtractor}{Extractor}} Class. 

\begin{DoxyAuthor}{Author}
Ricardo Figueroa
\end{DoxyAuthor}
This class provides support for the Wave Function Collapse algorithm by making available png and bitmap extraction and encoding for tiles and tilesets. Tilesets are usually formatted in a X by X image file, so the extractor takes said image file and extracts all necessary information, i.\+e, pixel data, width and height.

There existed many methods by which to expand the extractor class. As a result of time constraints png and bmp are the only filetypes available for extraction. But by introducing more libraries to the class it can be possible to expand to a larger range of filetypes, that said, the most common ones have been chosen for the class.

Using both lode\+PNG and Easy\+BMP, extraction and encoding was made much easier. Allowing for simple to use API that abstract these processes.

Extraction for both PNG and BMP consists of acquiring the RGBA values of each pixel. Ranging from 0 to 255 for each. They are placed in a vector of \mbox{\hyperlink{structPixel}{Pixel}} type that is meant to be the generalized structure for all extractions (space for appending functionality)

Encoding for both PNG and BMP consists of taking this generalized structure and encoding through their respective support libraries.

The vectors of pixels as described above are then processed by extract\+Tileset, which is the function that creates the required piece for both the \mbox{\hyperlink{classSolver}{Solver}} and \mbox{\hyperlink{classSynthesizer}{Synthesizer}} (a vector of \mbox{\hyperlink{classTileData}{Tile\+Data}}). Given that the pixels themselves aren\textquotesingle{}t organized in \mbox{\hyperlink{classTile}{Tile}} form.

Once the \mbox{\hyperlink{classTileData}{Tile\+Data}} is extracted it can then be automatically be set\+Constraints based on a comparison metric. This is highly basic at the moment, the metric being a int meant to represent a percentage from 0 to 1.\+0. The difference in tile sides is calculated and compared to this metric to decide whether the tiles are accepted as constraints. This can be expanded on by changing the metric to some AI driven metric. Knowing what differernce in pixels is acceptable is hard to measure through simple arithmatic so for now it is just an option availble to the user.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structPixel}{Pixel}} 
\end{DoxySeeAlso}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classExtractor_a2726e6a94c51c2b2dbc518199d054103}\label{classExtractor_a2726e6a94c51c2b2dbc518199d054103}} 
\index{Extractor@{Extractor}!Extractor@{Extractor}}
\index{Extractor@{Extractor}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{Extractor()}{Extractor()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Extractor\+::\+Extractor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Default constructor for the \mbox{\hyperlink{classExtractor}{Extractor}}. \mbox{\Hypertarget{classExtractor_a62d4ffc438254c5661c4a60d1d2d4928}\label{classExtractor_a62d4ffc438254c5661c4a60d1d2d4928}} 
\index{Extractor@{Extractor}!Extractor@{Extractor}}
\index{Extractor@{Extractor}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{Extractor()}{Extractor()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Extractor\+::\+Extractor (\begin{DoxyParamCaption}\item[{double}]{metric }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor for the \mbox{\hyperlink{classExtractor}{Extractor}}, allows for metric initialization.


\begin{DoxyParams}{Parameters}
{\em metric} & The metric the user is allowed to implement. Max at 1, min at 0 \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classExtractor_a5317038adbafe886bb393ef29c4e12be}\label{classExtractor_a5317038adbafe886bb393ef29c4e12be}} 
\index{Extractor@{Extractor}!encodePNG@{encodePNG}}
\index{encodePNG@{encodePNG}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{encodePNG()}{encodePNG()}}
{\footnotesize\ttfamily void Extractor\+::encode\+PNG (\begin{DoxyParamCaption}\item[{unsigned int}]{width,  }\item[{unsigned int}]{height,  }\item[{const std\+::string \&}]{filename,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&}]{pixels }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Encodes a vector of pixels into a PNG file at the filename provided.


\begin{DoxyParams}{Parameters}
{\em width} & The width of the file being created \\
\hline
{\em height} & The height of the file being created \\
\hline
{\em filename} & The filename of the file being created \\
\hline
{\em pixels} & The pixels used to created the file \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_a868a888bd6b03eb9c9d07e81f91c8ec8}\label{classExtractor_a868a888bd6b03eb9c9d07e81f91c8ec8}} 
\index{Extractor@{Extractor}!encodeTilesetPNG@{encodeTilesetPNG}}
\index{encodeTilesetPNG@{encodeTilesetPNG}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{encodeTilesetPNG()}{encodeTilesetPNG()}}
{\footnotesize\ttfamily void Extractor\+::encode\+Tileset\+PNG (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$ \&}]{tiles,  }\item[{std\+::string}]{asset\+Name }\end{DoxyParamCaption})}

Econdes a vecotr of tiles using encode\+PNG


\begin{DoxyParams}{Parameters}
{\em tiles} & The vector of tiles being encoded \\
\hline
{\em asset\+Name} & name of asset and folder \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_adabc777cb60461053b56f2d53a9704a2}\label{classExtractor_adabc777cb60461053b56f2d53a9704a2}} 
\index{Extractor@{Extractor}!extractBMP@{extractBMP}}
\index{extractBMP@{extractBMP}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{extractBMP()}{extractBMP()}}
{\footnotesize\ttfamily void Extractor\+::extract\+BMP (\begin{DoxyParamCaption}\item[{unsigned int \&}]{width,  }\item[{unsigned int \&}]{height,  }\item[{const std\+::string \&}]{filename,  }\item[{std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&}]{pixels }\end{DoxyParamCaption})}

Extracts the pixel data from a BMP file. 
\begin{DoxyParams}{Parameters}
{\em width} & A reference to width that gets updated on easy\+BMP extraction \\
\hline
{\em height} & A reference to height that gets updated on easy\+BMP extraction \\
\hline
{\em filename} & A reference to filename that is used to retrieve the desired file \\
\hline
{\em pixels} & The pixel data of a file\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structPixel}{Pixel}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classExtractor_a6e87d0efe8723eb19af42225f2decc6d}\label{classExtractor_a6e87d0efe8723eb19af42225f2decc6d}} 
\index{Extractor@{Extractor}!extractPNG@{extractPNG}}
\index{extractPNG@{extractPNG}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{extractPNG()}{extractPNG()}}
{\footnotesize\ttfamily void Extractor\+::extract\+PNG (\begin{DoxyParamCaption}\item[{unsigned int \&}]{width,  }\item[{unsigned int \&}]{height,  }\item[{const std\+::string \&}]{filename,  }\item[{std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&}]{pixels }\end{DoxyParamCaption})}

Extracts the pixel data from a PNG file. 
\begin{DoxyParams}{Parameters}
{\em width} & A reference to width that gets updated on lode\+PNG extraction \\
\hline
{\em height} & A reference to height that gets updated on lode\+PNG extraction \\
\hline
{\em filename} & A reference to filename that is used to retrieve the desired file \\
\hline
{\em pixels} & The pixel data of a file\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structPixel}{Pixel}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classExtractor_a7996cb26dd5ff6d35d1505a5580205dd}\label{classExtractor_a7996cb26dd5ff6d35d1505a5580205dd}} 
\index{Extractor@{Extractor}!extractTileset@{extractTileset}}
\index{extractTileset@{extractTileset}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{extractTileset()}{extractTileset()}}
{\footnotesize\ttfamily int Extractor\+::extract\+Tileset (\begin{DoxyParamCaption}\item[{unsigned int}]{width,  }\item[{unsigned int}]{height,  }\item[{unsigned int}]{horizontal,  }\item[{unsigned int}]{vertical,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{structPixel}{Pixel}} $>$ \&}]{pixels,  }\item[{std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$ \&}]{tiles }\end{DoxyParamCaption})}

Extracts tiles from a vector of pixels.


\begin{DoxyParams}{Parameters}
{\em width} & The width of the file that extracted the pixels referenced in \\
\hline
{\em height} & The height of the file that extracted the pixels referenced in \\
\hline
{\em horizontal} & The maximum number of tiles on the tileset horizontally \\
\hline
{\em vertical} & The maxumum number of tiles on the tilset vertically \\
\hline
{\em pixels} & A reference to the pixels that will be extracted \\
\hline
{\em tiles} & A reference to the tile vector that will be appended to \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_a42a34591eec5529b1dda53fbe04f3842}\label{classExtractor_a42a34591eec5529b1dda53fbe04f3842}} 
\index{Extractor@{Extractor}!printConstraints@{printConstraints}}
\index{printConstraints@{printConstraints}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{printConstraints()}{printConstraints()}}
{\footnotesize\ttfamily void Extractor\+::print\+Constraints (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTileData}{Tile\+Data}}}]{tile }\end{DoxyParamCaption})}

Print function for constraints of a tile


\begin{DoxyParams}{Parameters}
{\em tile} & \mbox{\hyperlink{classTile}{Tile}} for printing \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_a2a738331241d85cb5e7bf9ed26ba28ed}\label{classExtractor_a2a738331241d85cb5e7bf9ed26ba28ed}} 
\index{Extractor@{Extractor}!printConstraintsV@{printConstraintsV}}
\index{printConstraintsV@{printConstraintsV}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{printConstraintsV()}{printConstraintsV()}}
{\footnotesize\ttfamily void Extractor\+::print\+ConstraintsV (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$}]{tiles }\end{DoxyParamCaption})}

Print function for constraints of a vector of tiles


\begin{DoxyParams}{Parameters}
{\em tile} & Tile\+Vector for printing \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_a981d0f1843a7b7bea93a616939f0dc54}\label{classExtractor_a981d0f1843a7b7bea93a616939f0dc54}} 
\index{Extractor@{Extractor}!printDirectories@{printDirectories}}
\index{printDirectories@{printDirectories}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{printDirectories()}{printDirectories()}}
{\footnotesize\ttfamily void Extractor\+::print\+Directories (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Print function for the two directories \mbox{\Hypertarget{classExtractor_a4051e53c3e18b0a419dceb32eed8526f}\label{classExtractor_a4051e53c3e18b0a419dceb32eed8526f}} 
\index{Extractor@{Extractor}!setAssetDirectoryAbsolute@{setAssetDirectoryAbsolute}}
\index{setAssetDirectoryAbsolute@{setAssetDirectoryAbsolute}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{setAssetDirectoryAbsolute()}{setAssetDirectoryAbsolute()}}
{\footnotesize\ttfamily void Extractor\+::set\+Asset\+Directory\+Absolute (\begin{DoxyParamCaption}\item[{std\+::string}]{dir }\end{DoxyParamCaption})}

Directory setter for acquiring assets


\begin{DoxyParams}{Parameters}
{\em dir} & Directory \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_a485004e8aa53730136b75f303a26740c}\label{classExtractor_a485004e8aa53730136b75f303a26740c}} 
\index{Extractor@{Extractor}!setAssetDirectoryRelative@{setAssetDirectoryRelative}}
\index{setAssetDirectoryRelative@{setAssetDirectoryRelative}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{setAssetDirectoryRelative()}{setAssetDirectoryRelative()}}
{\footnotesize\ttfamily void Extractor\+::set\+Asset\+Directory\+Relative (\begin{DoxyParamCaption}\item[{std\+::string}]{dir }\end{DoxyParamCaption})}

Directory setter for acquiring assets relative to current directory


\begin{DoxyParams}{Parameters}
{\em dir} & Directory \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_af35f3ceeb0ccc4791d4df63ddd025476}\label{classExtractor_af35f3ceeb0ccc4791d4df63ddd025476}} 
\index{Extractor@{Extractor}!setComparisonMetric@{setComparisonMetric}}
\index{setComparisonMetric@{setComparisonMetric}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{setComparisonMetric()}{setComparisonMetric()}}
{\footnotesize\ttfamily void Extractor\+::set\+Comparison\+Metric (\begin{DoxyParamCaption}\item[{double}]{m }\end{DoxyParamCaption})}

Setter function for comparison\+Metric


\begin{DoxyParams}{Parameters}
{\em m} & Input for comparison\+Metric \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_ac8e9b5f85bcdf56dc6b2edb5bebd3809}\label{classExtractor_ac8e9b5f85bcdf56dc6b2edb5bebd3809}} 
\index{Extractor@{Extractor}!setConstraints@{setConstraints}}
\index{setConstraints@{setConstraints}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{setConstraints()}{setConstraints()}}
{\footnotesize\ttfamily int Extractor\+::set\+Constraints (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classTileData}{Tile\+Data}} $>$ \&}]{tile\+List }\end{DoxyParamCaption})}

Set the constraints for each tile on a tile\+List based on the tiles from that tile\+List.


\begin{DoxyParams}{Parameters}
{\em tile\+List} & A vector of tiles to apply constraints to \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_aaf41b05bc18e0e83e3855dfa1f6654d9}\label{classExtractor_aaf41b05bc18e0e83e3855dfa1f6654d9}} 
\index{Extractor@{Extractor}!setDumpDirectoryAbsolute@{setDumpDirectoryAbsolute}}
\index{setDumpDirectoryAbsolute@{setDumpDirectoryAbsolute}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{setDumpDirectoryAbsolute()}{setDumpDirectoryAbsolute()}}
{\footnotesize\ttfamily void Extractor\+::set\+Dump\+Directory\+Absolute (\begin{DoxyParamCaption}\item[{std\+::string}]{dir }\end{DoxyParamCaption})}

Directory setter for dumping assets


\begin{DoxyParams}{Parameters}
{\em dir} & Directory \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classExtractor_a2ce807da74ccb6bb17a44f94abb774c6}\label{classExtractor_a2ce807da74ccb6bb17a44f94abb774c6}} 
\index{Extractor@{Extractor}!setDumpDirectoryRelative@{setDumpDirectoryRelative}}
\index{setDumpDirectoryRelative@{setDumpDirectoryRelative}!Extractor@{Extractor}}
\doxysubsubsection{\texorpdfstring{setDumpDirectoryRelative()}{setDumpDirectoryRelative()}}
{\footnotesize\ttfamily void Extractor\+::set\+Dump\+Directory\+Relative (\begin{DoxyParamCaption}\item[{std\+::string}]{dir }\end{DoxyParamCaption})}

Directory setter for dumping extractions relative to current directory


\begin{DoxyParams}{Parameters}
{\em dir} & Directory \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/Extractor.\+h\item 
src/Extractor.\+cpp\end{DoxyCompactItemize}
